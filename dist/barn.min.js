/*! barn 2017-10-05 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.Barn=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a,b,c){c||(c={}),b||(b=a,a="BARN"),this.barn=new e(a,b,c)}var d=a("underscore"),e=a("./lib/barn");d.extend(c.prototype,{get:function(a){return this.barn.execCmd("GET",a)},set:function(a,b){return this.barn.execCmd("SET",a,b)},del:function(a){return this.barn.execCmd("DEL",a)},lpop:function(a){return this.barn.execCmd("LPOP",a)},lpush:function(a,b){return this.barn.execCmd("LPUSH",a,b)},rpop:function(a){return this.barn.execCmd("RPOP",a)},rpush:function(a,b){return this.barn.execCmd("RPUSH",a,b)},llen:function(a){return this.barn.execCmd("LLEN",a)},lrange:function(a,b,c){return this.barn.execCmd("LRANGE",a,b,c)},sadd:function(a,b){return this.barn.execCmd("SADD",a,b)},smembers:function(a){return this.barn.execCmd("SMEMBERS",a)},sismember:function(a,b){return this.barn.execCmd("SISMEMBER",a,b)},srem:function(a,b){return this.barn.execCmd("SREM",a,b)},condense:function(){return this.barn.condense()}}),b.exports=c},{"./lib/barn":2,underscore:4}],2:[function(a,b){"use strict";function c(a,b,c){var f=this;this._storage=d.createNamespace(a,b),this._keys={},this._idx=0,this._keySet,this._opts={maxKeys:1e3},e.extend(this._opts,c),this._cmds={DEL:{fn:function(a){var b=0;return f._keys[a]&&b++,delete f._keys[a],b},mutating:!0},GET:{fn:function(a){return f._getValExpectingType(a,"string")},mutating:!1},SET:{fn:function(a,b){f._keys[a]={val:b,type:"string"}},mutating:!0},LPUSH:{fn:function(a,b){var c=f._getOrCreateList(a);return c.unshift(b),c.length},mutating:!0},LPOP:{fn:function(a){var b=f._getValExpectingType(a,"list"),c=null;return b&&b.length&&(c=b.shift()),c},mutating:!0},RPUSH:{fn:function(a,b){var c=f._getOrCreateList(a);return c.push(b),c.length},mutating:!0},RPOP:{fn:function(a){var b=f._getValExpectingType(a,"list"),c=null;return b&&b.length&&(c=b.pop()),c},mutating:!0},LLEN:{fn:function(a){var b=f._getValExpectingType(a,"list");return b?b.length:0},mutating:!1},LRANGE:{fn:function(a,b,c){var d=f._getValExpectingType(a,"list"),e=null;return d&&d.length&&(b=Math.max(0,b),-1===c?c=void 0:c++,e=d.slice(b,c)),e},mutating:!1},SADD:{fn:function(a,b){var c=0,d=f._getOrCreateSet(a);return b in d||(c++,d[b]=!0),c},mutating:!0},SMEMBERS:{fn:function(a){var b=f._getValExpectingType(a,"set"),c=null;return b&&(c=Object.keys(b)),c},mutating:!1},SISMEMBER:{fn:function(a,b){var c=f._getValExpectingType(a,"set");return!(!c||!c[b])},mutating:!1},SREM:{fn:function(a,b){var c=0,d=f._getOrCreateSet(a);return b in d&&(c++,delete d[b]),c},mutating:!0},_LOAD:{fn:function(a){f._keys=a},mutating:!0}},this._load()}var d=a("nsstorage"),e=a("underscore");c.prototype._getVal=function(a){return this._keys[a]},c.prototype._getValExpectingType=function(a,b){var c=this._getVal(a);if(c){if(c.type!==b)throw new TypeError("Expected key "+a+" to be of type "+b);return c.val}return null},c.prototype._getOrCreateList=function(a){var b=this._getValExpectingType(a,"list");return b||(b=[],this._keys[a]={type:"list",val:b}),b},c.prototype._getOrCreateSet=function(a){var b=this._getValExpectingType(a,"set");return b||(b={},this._keys[a]={type:"set",val:b}),b},c.prototype._loadKeySet=function(){this._keySet=this._storage.getItem("KEYSET"),this._keySet||this._setKeySet(0)},c.prototype._setKeySet=function(a){this._storage.setItem("KEYSET",a),this._keySet=a},c.prototype._isGarbage=function(a){return 0!==a.indexOf(this._keySet)&&"KEYSET"!==a},c.prototype._buildKey=function(a,b){return a+"_"+b},c.prototype._load=function(){this._loadKeySet(),this._keys={},this._idx=0;var a;do{var b=this._buildKey(this._keySet,this._idx);a=this._storage.getItem(b),a&&(this._idx++,this._exec(JSON.parse(a)))}while(a)},c.prototype._exec=function(a){var b=this._cmds[a.cmd].fn;if(!b)throw new Error("Invalid operation");return b.apply(null,a.args)},c.prototype._save=function(a,b,c){var d=this._buildKey(a,b),e=JSON.stringify(c);this._storage.setItem(d,e)},c.prototype._isMutating=function(a){return this._cmds[a].mutating},c.prototype.execCmd=function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),c={cmd:b,args:a},d=this._exec(c);return this._isMutating(b)&&(this._save(this._keySet,this._idx,c),this._idx++,this._idx>this._opts.maxKeys&&this.condense()),d},c.prototype._gc=function(){for(var a,b=this,c=[],d=0;d<this._storage.length;d++)a=this._storage.key(d),this._isGarbage(a)&&c.push(a);c.forEach(function(a){b._storage.removeItem(a)})},c.prototype.condense=function(){var a={cmd:"_LOAD",args:[this._keys]};this._save(+this._keySet+1,0,a),this._setKeySet(+this._keySet+1),this._idx=1,this._gc()},b.exports=c},{nsstorage:3,underscore:4}],3:[function(b,c,d){"use strict";function e(b,e,f){b.define&&b.define.amd?a([],f):"undefined"!=typeof d?c.exports=f:b[e]=f}function f(a,b){this._ns=a,this._nsRegex=new RegExp(""+a+"_"),this._storage=b,this._keyCache=null,this.length=this._keys().length}f.prototype._genKey=function(a){return this._ns+"_"+a},f.prototype._inNamespace=function(a){return a&&0===a.indexOf(this._ns)},f.prototype._exists=function(a){return!!this.getItem(a)},f.prototype._keys=function(){if(this._keyCache)return this._keyCache;for(var a=[],b=0,c=this._storage.length;c>b;b++){var d=this._storage.key(b);this._inNamespace(d)&&a.push(d.replace(this._nsRegex,""))}return this._keyCache=a,a},f.prototype._invalidateCache=function(){this._keyCache=null},f.prototype.key=function(a){return this._keys()[a]||null},f.prototype.getItem=function(a){return this._storage.getItem(this._genKey(a))},f.prototype.setItem=function(a,b){this._exists(a)||(this.length++,this._invalidateCache()),this._storage.setItem(this._genKey(a),b)},f.prototype.removeItem=function(a){this._exists(a)&&(this.length--,this._invalidateCache()),this._storage.removeItem(this._genKey(a))},f.prototype.clear=function(){var a=this;this._keys().forEach(function(b){a.removeItem(b)}),this._invalidateCache()};var g={createNamespace:function(a,b){return new f(a,b)}};e(this,"NSStorage",g)},{}],4:[function(b,c,d){(function(){var b=this,e=b._,f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=Array.isArray,o=Object.keys,p=h.bind,q=function(a){return a instanceof q?a:this instanceof q?void(this._wrapped=a):new q(a)};"undefined"!=typeof d?("undefined"!=typeof c&&c.exports&&(d=c.exports=q),d._=q):b._=q,q.VERSION="1.7.0";var r=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};q.iteratee=function(a,b,c){return null==a?q.identity:q.isFunction(a)?r(a,b,c):q.isObject(a)?q.matches(a):q.property(a)},q.each=q.forEach=function(a,b,c){if(null==a)return a;b=r(b,c);var d,e=a.length;if(e===+e)for(d=0;e>d;d++)b(a[d],d,a);else{var f=q.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},q.map=q.collect=function(a,b,c){if(null==a)return[];b=q.iteratee(b,c);for(var d,e=a.length!==+a.length&&q.keys(a),f=(e||a).length,g=Array(f),h=0;f>h;h++)d=e?e[h]:h,g[h]=b(a[d],d,a);return g};var s="Reduce of empty array with no initial value";q.reduce=q.foldl=q.inject=function(a,b,c,d){null==a&&(a=[]),b=r(b,d,4);var e,f=a.length!==+a.length&&q.keys(a),g=(f||a).length,h=0;if(arguments.length<3){if(!g)throw new TypeError(s);c=a[f?f[h++]:h++]}for(;g>h;h++)e=f?f[h]:h,c=b(c,a[e],e,a);return c},q.reduceRight=q.foldr=function(a,b,c,d){null==a&&(a=[]),b=r(b,d,4);var e,f=a.length!==+a.length&&q.keys(a),g=(f||a).length;if(arguments.length<3){if(!g)throw new TypeError(s);c=a[f?f[--g]:--g]}for(;g--;)e=f?f[g]:g,c=b(c,a[e],e,a);return c},q.find=q.detect=function(a,b,c){var d;return b=q.iteratee(b,c),q.some(a,function(a,c,e){return b(a,c,e)?(d=a,!0):void 0}),d},q.filter=q.select=function(a,b,c){var d=[];return null==a?d:(b=q.iteratee(b,c),q.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d)},q.reject=function(a,b,c){return q.filter(a,q.negate(q.iteratee(b)),c)},q.every=q.all=function(a,b,c){if(null==a)return!0;b=q.iteratee(b,c);var d,e,f=a.length!==+a.length&&q.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,!b(a[e],e,a))return!1;return!0},q.some=q.any=function(a,b,c){if(null==a)return!1;b=q.iteratee(b,c);var d,e,f=a.length!==+a.length&&q.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,b(a[e],e,a))return!0;return!1},q.contains=q.include=function(a,b){return null==a?!1:(a.length!==+a.length&&(a=q.values(a)),q.indexOf(a,b)>=0)},q.invoke=function(a,b){var c=j.call(arguments,2),d=q.isFunction(b);return q.map(a,function(a){return(d?b:a[b]).apply(a,c)})},q.pluck=function(a,b){return q.map(a,q.property(b))},q.where=function(a,b){return q.filter(a,q.matches(b))},q.findWhere=function(a,b){return q.find(a,q.matches(b))},q.max=function(a,b,c){var d,e,f=-1/0,g=-1/0;if(null==b&&null!=a){a=a.length===+a.length?a:q.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=q.iteratee(b,c),q.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-1/0&&f===-1/0)&&(f=a,g=e)});return f},q.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=a.length===+a.length?a:q.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=q.iteratee(b,c),q.each(a,function(a,c,d){e=b(a,c,d),(g>e||1/0===e&&1/0===f)&&(f=a,g=e)});return f},q.shuffle=function(a){for(var b,c=a&&a.length===+a.length?a:q.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=q.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},q.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=q.values(a)),a[q.random(a.length-1)]):q.shuffle(a).slice(0,Math.max(0,b))},q.sortBy=function(a,b,c){return b=q.iteratee(b,c),q.pluck(q.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var t=function(a){return function(b,c,d){var e={};return c=q.iteratee(c,d),q.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};q.groupBy=t(function(a,b,c){q.has(a,c)?a[c].push(b):a[c]=[b]}),q.indexBy=t(function(a,b,c){a[c]=b}),q.countBy=t(function(a,b,c){q.has(a,c)?a[c]++:a[c]=1}),q.sortedIndex=function(a,b,c,d){c=q.iteratee(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=f+g>>>1;c(a[h])<e?f=h+1:g=h}return f},q.toArray=function(a){return a?q.isArray(a)?j.call(a):a.length===+a.length?q.map(a,q.identity):q.values(a):[]},q.size=function(a){return null==a?0:a.length===+a.length?a.length:q.keys(a).length},q.partition=function(a,b,c){b=q.iteratee(b,c);var d=[],e=[];return q.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},q.first=q.head=q.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:j.call(a,0,b)},q.initial=function(a,b,c){return j.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},q.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},q.rest=q.tail=q.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},q.compact=function(a){return q.filter(a,q.identity)};var u=function(a,b,c,d){if(b&&q.every(a,q.isArray))return k.apply(d,a);for(var e=0,f=a.length;f>e;e++){var g=a[e];q.isArray(g)||q.isArguments(g)?b?i.apply(d,g):u(g,b,c,d):c||d.push(g)}return d};q.flatten=function(a,b){return u(a,b,!1,[])},q.without=function(a){return q.difference(a,j.call(arguments,1))},q.uniq=q.unique=function(a,b,c,d){if(null==a)return[];q.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=q.iteratee(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g];if(b)g&&f===i||e.push(i),f=i;else if(c){var j=c(i,g,a);q.indexOf(f,j)<0&&(f.push(j),e.push(i))}else q.indexOf(e,i)<0&&e.push(i)}return e},q.union=function(){return q.uniq(u(arguments,!0,!0,[]))},q.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!q.contains(b,f)){for(var g=1;c>g&&q.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},q.difference=function(a){var b=u(j.call(arguments,1),!0,!0,[]);return q.filter(a,function(a){return!q.contains(b,a)})},q.zip=function(a){if(null==a)return[];for(var b=q.max(arguments,"length").length,c=Array(b),d=0;b>d;d++)c[d]=q.pluck(arguments,d);return c},q.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},q.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=q.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}for(;e>d;d++)if(a[d]===b)return d;return-1},q.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1},q.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var v=function(){};q.bind=function(a,b){var c,d;if(p&&a.bind===p)return p.apply(a,j.call(arguments,1));if(!q.isFunction(a))throw new TypeError("Bind must be called on a function");return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));v.prototype=a.prototype;var e=new v;v.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return q.isObject(f)?f:e}},q.partial=function(a){var b=j.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===q&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},q.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=q.bind(a[c],a);return a},q.memoize=function(a,b){var c=function(d){var e=c.cache,f=b?b.apply(this,arguments):d;return q.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},q.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},q.defer=function(a){return q.delay.apply(q,[a,1].concat(j.call(arguments,1)))},q.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:q.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=q.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},q.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=q.now()-g;b>j&&j>0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=q.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},q.wrap=function(a,b){return q.partial(b,a)},q.negate=function(a){return function(){return!a.apply(this,arguments)}},q.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},q.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},q.before=function(a,b){var c;return function(){return--a>0?c=b.apply(this,arguments):b=null,c}},q.once=q.partial(q.before,2),q.keys=function(a){if(!q.isObject(a))return[];if(o)return o(a);var b=[];for(var c in a)q.has(a,c)&&b.push(c);return b},q.values=function(a){for(var b=q.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},q.pairs=function(a){for(var b=q.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},q.invert=function(a){for(var b={},c=q.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},q.functions=q.methods=function(a){var b=[];for(var c in a)q.isFunction(a[c])&&b.push(c);return b.sort()},q.extend=function(a){if(!q.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)m.call(b,c)&&(a[c]=b[c])}return a},q.pick=function(a,b,c){var d,e={};if(null==a)return e;if(q.isFunction(b)){b=r(b,c);for(d in a){var f=a[d];b(f,d,a)&&(e[d]=f)}}else{var g=k.apply([],j.call(arguments,1));a=new Object(a);for(var h=0,i=g.length;i>h;h++)d=g[h],d in a&&(e[d]=a[d])}return e},q.omit=function(a,b,c){if(q.isFunction(b))b=q.negate(b);else{var d=q.map(k.apply([],j.call(arguments,1)),String);b=function(a,b){return!q.contains(d,b)}}return q.pick(a,b,c)},q.defaults=function(a){if(!q.isObject(a))return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a},q.clone=function(a){return q.isObject(a)?q.isArray(a)?a.slice():q.extend({},a):a},q.tap=function(a,b){return b(a),a};var w=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof q&&(a=a._wrapped),b instanceof q&&(b=b._wrapped);var e=l.call(a);if(e!==l.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var g=a.constructor,h=b.constructor;if(g!==h&&"constructor"in a&&"constructor"in b&&!(q.isFunction(g)&&g instanceof g&&q.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i,j;if("[object Array]"===e){if(i=a.length,j=i===b.length)for(;i--&&(j=w(a[i],b[i],c,d)););}else{var k,m=q.keys(a);if(i=m.length,j=q.keys(b).length===i)for(;i--&&(k=m[i],j=q.has(b,k)&&w(a[k],b[k],c,d)););}return c.pop(),d.pop(),j};q.isEqual=function(a,b){return w(a,b,[],[])},q.isEmpty=function(a){if(null==a)return!0;if(q.isArray(a)||q.isString(a)||q.isArguments(a))return 0===a.length;for(var b in a)if(q.has(a,b))return!1;return!0},q.isElement=function(a){return!(!a||1!==a.nodeType)},q.isArray=n||function(a){return"[object Array]"===l.call(a)},q.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},q.each(["Arguments","Function","String","Number","Date","RegExp"],function(a){q["is"+a]=function(b){return l.call(b)==="[object "+a+"]"}}),q.isArguments(arguments)||(q.isArguments=function(a){return q.has(a,"callee")}),"function"!=typeof/./&&(q.isFunction=function(a){return"function"==typeof a||!1}),q.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},q.isNaN=function(a){return q.isNumber(a)&&a!==+a},q.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===l.call(a)},q.isNull=function(a){return null===a},q.isUndefined=function(a){return void 0===a},q.has=function(a,b){return null!=a&&m.call(a,b)},q.noConflict=function(){return b._=e,this},q.identity=function(a){return a},q.constant=function(a){return function(){return a}},q.noop=function(){},q.property=function(a){return function(b){return b[a]}},q.matches=function(a){var b=q.pairs(a),c=b.length;return function(a){if(null==a)return!c;a=new Object(a);for(var d=0;c>d;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}},q.times=function(a,b,c){var d=Array(Math.max(0,a));b=r(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},q.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},q.now=Date.now||function(){return(new Date).getTime()};var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},y=q.invert(x),z=function(a){var b=function(b){return a[b]},c="(?:"+q.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};q.escape=z(x),q.unescape=z(y),q.result=function(a,b){if(null==a)return void 0;var c=a[b];return q.isFunction(c)?a[b]():c};var A=0;q.uniqueId=function(a){var b=++A+"";return a?a+b:b},q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,E=function(a){return"\\"+C[a]};q.template=function(a,b,c){!b&&c&&(b=c),b=q.defaults({},b,q.templateSettings);var d=RegExp([(b.escape||B).source,(b.interpolate||B).source,(b.evaluate||B).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(D,E),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,q)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},q.chain=function(a){var b=q(a);return b._chain=!0,b};var F=function(a){return this._chain?q(a).chain():a};q.mixin=function(a){q.each(q.functions(a),function(b){var c=q[b]=a[b];q.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),F.call(this,c.apply(q,a))}})},q.mixin(q),q.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];q.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],F.call(this,c)}}),q.each(["concat","join","slice"],function(a){var b=f[a];q.prototype[a]=function(){return F.call(this,b.apply(this._wrapped,arguments))}}),q.prototype.value=function(){return this._wrapped},"function"==typeof a&&a.amd&&a("underscore",[],function(){return q})}).call(this)},{}]},{},[1])(1)});